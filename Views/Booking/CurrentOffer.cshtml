@model BookingApp.Models.Offer
@{

}
@using (Html.BeginForm("SaveOffer","booking", FormMethod.Post))
{
	@Html.ValidationSummary()
	<button type="submit" name="OfferId" value="@Model.Id">zapisz</button>
}
<p>@Model.title</p>
<p>@Model.price</p>
@if (ViewBag.DateIsChecked == false)
{


	@using (Html.BeginForm("checkdate", "booking", FormMethod.Get))
	{
		@Html.ValidationSummary()

		<p>wybierz date rozpoczecia<input type="date" name="startDate" /></p>
		<p>wybierz date zakonczenia<input type="date" name="endDate" /></p>
		<input type="hidden" name="OfferId" value="@Model.Id"/>
		<button type="submit">sprawdz daty</button>
	}
}
@if (ViewBag.DateIsChecked)
{


	@if (ViewBag.IsFree)
	{
		<p>daty sa wolne</p>
		@using (Html.BeginForm("AddBooking", "booking", FormMethod.Post))
		{
		@Html.ValidationSummary()
			<p>rezerwoj @Model.title w dniach od @ViewBag.StartDate.Day.@ViewBag.StartDate.Month.@ViewBag.StartDate.Year do @ViewBag.EndDate.Day.@ViewBag.EndDate.Month.@ViewBag.EndDate.Year </p>
			<input type="hidden" name="startDate" value="@ViewBag.EndDate" />
			<input type="hidden" name="endDate" value="@ViewBag.StartDate" />
		<input type="hidden" name="OfferId" value="@Model.Id" />
		<button type="submit">rezerwuj</button>
		}
	}
	@if (ViewBag.IsFree == false)
	{
		<p>daty nie sa wolne</p>
	}
}
@if(Model.Images != null)
{

@foreach(var image in Model.Images)
{
	<img class="image " src="@Url.Action("DisplayImage", "Home", new { imageId = image.id })" alt="Obraz" />
}
}else{
	<img src="~/images/DefaultPhoto.png" alt="Obraz" />

}